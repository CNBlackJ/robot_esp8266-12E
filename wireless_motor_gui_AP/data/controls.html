<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>whooo control robots</title>

    <style>
      .button {
        background-color:#ffaa42;
        -moz-border-radius:13px;
        -webkit-border-radius:13px;
        border-radius:13px;
        display:inline-block;
        cursor:pointer;
        color:#ffffff;
        font-family:Arial;
        font-size:20px;
        font-weight:bold;
        padding:40px 40px;
        text-decoration:none;
      }
      .button:hover {
        background-color:#ff8c00;
      }
      .button:active {
        position:relative;
        top:1px;
      }

      .button:focus {
        outline:0;
      }

      .center-col {
        width: 50%;
        margin: 0 40px; 
      }

      .row {
        margin:10px 10px;
      }

    </style>
</head>

<body>
  <h1>Yay Robot Controls</h1>

  <div class='row'>
  <div class="center-col">

    <button id="forward" class="button">▲</button>

  </div></div>
  <div class='row'>

    <button id="left" class="button"> ◄ </button>
    <button id="right" class="button"> ► </button>

  </div>
  
  <div class='row'>
  <div class="center-col">

    <button id="backward" class="button">▼</button>

  </div>
  </div>




  <script>
    document.getElementById("forward").ontouchstart = function() {forwardDown()};
    document.getElementById("forward").ontouchend = function() {release()};

    document.getElementById("backward").ontouchstart = function() {backwardDown()};
    document.getElementById("backward").ontouchend = function() {release()};

    document.getElementById("left").ontouchstart = function() {leftDown()};
    document.getElementById("left").ontouchend = function() {release()};

    document.getElementById("right").ontouchstart = function() {rightDown()};
    document.getElementById("right").ontouchend = function() {release()};


    var connection = new WebSocket('ws://'+location.hostname+':81/', ['arduino']);
      connection.onopen = function(){
      connection.send('Connect ' + new Date()); 
    };
    connection.onerror = function(error){
      console.log('WebSocket Error ', error);
    };
    connection.onmessage = function(e){
      console.log('Server: ', e.data);
    };



    function forwardDown() {
      console.log('Forward button pressed'); 
      connection.send('#F');
    }

    function backwardDown() {
      console.log('Backward button pressed'); 
      connection.send('#B');
    }

    function leftDown() {
      console.log('Left button pressed'); 
      connection.send('#L');
    }

    function rightDown() {
      console.log('Right button pressed'); 
      connection.send('#R');
    }
    function release() {
      console.log('Button released'); 
      connection.send('#0');
    }

  </script>


  </body>
</html>
